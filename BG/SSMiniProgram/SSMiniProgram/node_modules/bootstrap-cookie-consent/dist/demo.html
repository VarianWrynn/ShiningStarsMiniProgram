<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Boostrap Cookie Consent</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">


</head>
<body class="text-center" >

<!-- Youtube player example -->
<div data-cookie-consent="YouTube" class="py-5">
    <img src="https://img.youtube.com/vi/R4lZyXjGLRs/0.jpg" width="560" height="315">
    <!--if-consent
        <iframe src="https://www.youtube.com/embed/R4lZyXjGLRs" width="560" height="315" style="background:#000;border:0;"></iframe>
    endif-->
</div>

<br><hr><br>

<div data-cookie-consent="StatistiquesAnonymes">
    Revoir votre décision concernant la gestion de votre vie privée : acceptez l'utilisation de données anonymes. <button class="cc">Changer d'avis</button>
    <!--if-consent
        <iframe src="https://www.youtube.com/embed/R4lZyXjGLRs" width="560" height="315" style="background:#000;border:0;"></iframe>
    endif-->
</div>
<br><hr><br>
<button class="cc">Vie privée - Gérer les services tiers</button>
<script>
document.addEventListener('DOMContentLoaded', function()
{
    new BootstrapCookieConsent({
        services: ['StatistiquesAnonymes', 'YouTube'],
        services_descr: {
            'StatistiquesAnonymes': 'Nous permet d\'améliorer le site en fonction de son utilisation',
            'YouTube': 'Affiche les vidéos du service youtube.com'
        },
        method: 0,
    });
});

function listAllEventListeners() {
  let elements = [];
  const allElements = document.querySelectorAll('*');
  const types = [];
  for (let ev in window) {
    if (/^on/.test(ev)) types[types.length] = ev;
  }

  for (let i = 0; i < allElements.length; i++) {
    const currentElement = allElements[i];
    for (let j = 0; j < types.length; j++) {
      if (typeof currentElement[types[j]] === 'function') {
          console.log('currentElement: '+types[j]+' '+currentElement[types[j]].toString());
        elements.push({
          "node": currentElement,
          "listeners": [ {
            "type": types[j],
            "func": currentElement[types[j]].toString(),
          }]
        });
      }
    }
  }

  return elements.filter(element => element.listeners.length)
}
</script>
<script type="text/javascript" src="bootstrap-cookie-consent.dev.js"></script></body>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap.native/2.0.15/bootstrap-native-v4.js"></script>

</body>
</html>
